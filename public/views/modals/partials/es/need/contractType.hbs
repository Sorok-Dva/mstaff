<div class="modal-body">
  <form role="form" class="form-horizontal">
    <div class="row">
      <div class="col-md-12">
        <select class="form-control" name="contractType" id="contractType">
          <option value="">Séléctionner un type de contrat</option>
          <option value="long">Un travail durable</option>
          <option value="short">Des missions ponctuelles</option>
          <option value="internship">Un stage</option>
        </select>
        <div id="contractTypeFinalLong" style="display: none">
          <hr>
          <select class="form-control" name="contractTypeFinalLong">
            <option value="">Séléctionner un type de contrat</option>
            <option value="cdi">CDI</option>
            <option value="2">Apprentissage / Contrat Pro</option>
            <option value="3">Collaboration Libérale</option>
            <option value="4">Installation / Association Libérale</option>
            <option value="5">Reprise Cabinet Libéral</option>
          </select>
        </div>
        <div id="contractTypeFinalShort" style="display: none">
          <hr>
          <select class="form-control" name="contractTypeFinalShort">
            <option value="">Séléctionner un type de contrat</option>
            <option value="cdd">Missions / Vacations / CDD</option>
            <option value="6">Remplacement Libéral</option>
          </select>
        </div>
      </div>
    </div>
  </form>
</div>
<div class="modal-footer">
  <button type="button" id="ignoreContract" class="btn btn-default pull-left"
          data-dismiss="modal">Ignorer
  </button>
</div>
<script>
  $('select#contractType').on('change', function () {
    if (this.value === '') {
      $('select#contractType').addClass('error');
      return false;
    }
    $('select#contractType').removeClass('error').addClass('success');
    let type = this.value;

    switch (type) {
      case 'long':
        // $('select#contractType').attr('disabled', 'disabled');
        $('#contractTypeFinalLong').show();
        $('#contractTypeFinalShort').hide();
        break;
      case 'short':
        // $('select#contractType').attr('disabled', 'disabled');
        $('#contractTypeFinalShort').show();
        $('#contractTypeFinalLong').hide();
        break;
      case 'internship':
        need.filterQuery.contractType = 'internship';
        $('.modal#contractType').modal('hide');
        $('#btnContractType').html('STAGE');
        $('#btnContractType').parent().removeClass('btn-outline-info').addClass('btn-info');
        return searchCandidates();
      default:
        //notif wrong value
    }
  });

  $('#ignoreContract').click(function() {
    // need.firstSearch = false;
    if (!_.isNil(need.filterQuery.contractType)) {
      delete need.filterQuery.contractType;
      $('#btnContractType').empty();
      $('#btnContractType').parent().removeClass('btn-info').addClass('btn-outline-info');
    }
    searchCandidates();
  });
</script>